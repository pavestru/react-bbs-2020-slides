import { Appear, Notes } from 'mdx-deck'

# React Life-cycle methods - Legacy

<ul>
  <Appear>
    <li>componentWillMount -> UNSAFE_componentWillMount</li>
    <li>componentWillRecieveProps -> UNSAFE_componentWillRecieveProps</li>
    <li>componentWillUpdate -> UNSAFE_componentWillUpdate</li>
  </Appear>
</ul>

<Notes>
For over a year, the React team has been working to implement asynchronous rendering.
They found out that these 3 [CLICK][CLICK][CLICK] lifecycle methods have often been misunderstood 
and subtly misused and may be more problematic with async rendering.
Because of this, React team will be adding an “UNSAFE_” prefix to these lifecycles in an upcoming release.
Here, the "UNSAFE" refers not to security but instead conveys that code using these lifecycles will be more likely 
to have bugs in future versions of React, especially once async rendering is enabled.)
16.3 Introduce aliases for the unsafe lifecycles - Both the old lifecycle names and the new aliases will work in this release.
A future 16.x release: Enable deprecation warning for these 3 lifecycle methods - 
Both the old lifecycle names and the new aliases will work in this release, 
but the old names will log a DEV-mode warning.
17.0: Remove componentWillMount, componentWillReceiveProps, and componentWillUpdate . - Only the new “UNSAFE_” lifecycle names will 
work from this point forward.
</Notes>

---

# React Life-cycle methods - New

<ul>
  <Appear>
    <li>getDerivedStateFromProps >=16.3.0</li>
    <li>getSnapshotBeforeUpdate >= 16.3.0</li>
    <li>getDerivedStateFromError >= 16.6.0</li>
  </Appear>
</ul>

<Notes>
React also introduced new lifecycle methods:
[CLICK][CLICK]
The new static getDerivedStateFromProps lifecycle is invoked after a component is instantiated 
as well as before it is re-rendered. It can return an object to update state, or null to indicate 
that the new props do not require any state updates.

Together with componentDidUpdate, this new lifecycle should cover all use cases 
for the legacy componentWillReceiveProps.
[CLICK]
The new getSnapshotBeforeUpdate lifecycle is called right before mutations are made 
(e.g. before the DOM is updated). The return value for this lifecycle will be passed 
as the third parameter to componentDidUpdate. (This lifecycle isn’t often needed, 
but can be useful in cases like manually preserving scroll position during rerenders.)

Together with componentDidUpdate, this new lifecycle should cover all use cases for the legacy componentWillUpdate.
</Notes>

---

<img src="img/lifecycle.png" />

<Notes>
Here inside Lifecycle diagram we can see old 3 lifecycle methods and 2 new ones.
Now want to do livecoding and try to rewrite small React application to use React Hooks.
</Notes>