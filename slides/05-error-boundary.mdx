import { Appear, Notes } from 'mdx-deck'

# Error Boundary

<ul>
  <Appear>
    <li>components that catch JavaScript errors and display a fallback UI</li>
    <li>getDerivedStateFromError(), componentDidCatch()</li>
    <li>works like a JavaScript catch {} block, but for components</li>
    <li>catch only errors in the components below them in the tree</li>
  </Appear>
</ul>

<Notes>
[CLICK]
A JavaScript error in a part of the UI shouldn’t break the whole app. 
To solve this problem for React users, React 16 introduces a new concept of an “error boundary”.
Error boundaries are React components that catch JavaScript errors anywhere in their child component tree,
 log those errors, and display a fallback UI instead of the component tree that crashed. 
Error boundaries catch errors during rendering, in lifecycle methods, and in constructors of the whole tree below them.

[CLICK]
A class component becomes an error boundary if it defines either (or both) of the lifecycle methods 
static getDerivedStateFromError() or componentDidCatch(). 
Use static getDerivedStateFromError() to render a fallback UI after an error has been thrown. 
Use componentDidCatch() to log error information.

[CLICK]
Error boundaries work like a JavaScript catch {} block, but for components. 
Only class components can be error boundaries. In practice, most of the time you’ll want to declare an error boundary 
component once and use it throughout your application.

[CLICK]
Note that error boundaries only catch errors in the components below them in the tree. 
An error boundary can’t catch an error within itself. 
If an error boundary fails trying to render the error message, the error will propagate to the closest 
error boundary above it. This, too, is similar to how catch {} block works in JavaScript.

Error boundaries do not catch errors for:
Event handlers
Asynchronous code (e.g. setTimeout or requestAnimationFrame callbacks)
Server side rendering
Errors thrown in the error boundary itself (rather than its children)
</Notes>

---

<img src="img/errorBoundary_inv.png" />

<Notes>
Example from Dan Abramov here: 
https://codepen.io/gaearon/pen/wqvxGa?editors=0010
</Notes>